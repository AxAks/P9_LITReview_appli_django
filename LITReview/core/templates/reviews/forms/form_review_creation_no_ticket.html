<!DOCTYPE html>
<html lang="fr">

{% load static %}
{% load crispy_forms_tags %}

<head>
    <meta charset="UTF-8">
    <title>Critique - Creation (Ticket requis)</title>
</head>

<body>
<div class="list-group-item">
    <form method="post" action="" enctype="multipart/form-data">
    {% csrf_token %}
    <h3>Ticket</h3>
    {{ form_ticket.non_field_errors }} <!-- l'appeler form_ticket -->
    <p class="fieldWrapper">
        {{ form_ticket.title.errors }}
        {{ form_ticket.title | as_crispy_field }}
    </p>
    <p class="fieldWrapper">
        {{ form_ticket.description.errors }}
        {{ form_ticket.description | as_crispy_field }}
    </p>
    <p class="fieldWrapper"> <!--voir Pillow-->
        {{ form_ticket.image.errors }}
        {{ form_ticket.image | as_crispy_field }}
    </p>
    <hr/>
    <h3>Critique</h3>
    {{ form_review.non_field_errors }}
    <p class="fieldWrapper">
        {{ form_review.headline.errors }}
        {{ form_review.headline | as_crispy_field }}
    </p>
    <p class="fieldWrapper">
        <p class="form-check-inline">
        <div>{{ form_review.rating.label }}*</div>
            {{ form_review.rating.errors }}
            {% for notation in form_review.rating %}
                {{ notation }} <!-- Affichage OK mais plus de crispy form, plus de help text à cause de la boucle-->
            {% endfor %}
        <p>
        <small class="form-text text-muted">
            {{ form_review.rating.help_text }}
        </small>
        </p><!-- pas bon ! mal affiché et il faut que j'arrive à le mette comme dans les autres champs  -->
    </p>
    <p class="fieldWrapper">
        {{ form_review.body.errors }}
        {{ form_review.body | as_crispy_field }}
    </p>
    <p class="fieldWrapper">
        <button class="btn btn-sm btn-outline-dark" type="submit">
            Envoyer
        </button>
    </p>
</form>
</div>
</body>
</html>